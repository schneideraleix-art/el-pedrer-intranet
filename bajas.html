<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Control de Bajas - El Pedrer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <style>
        :root { --danger-dark: #be123c; --danger-light: #fff1f2; }
        body { background-color: var(--danger-light); font-family: 'Segoe UI', sans-serif; padding: 30px; }
        
        .header-section { background: white; border-radius: 20px; padding: 25px; box-shadow: 0 10px 30px rgba(190, 18, 60, 0.05); margin-bottom: 30px; border-left: 8px solid var(--danger-dark); }
        .glass-card { background: white; border-radius: 20px; border: none; box-shadow: 0 4px 20px rgba(0,0,0,0.03); padding: 25px; height: 100%; }
        
        .stat-card { background: var(--danger-dark); color: white; border-radius: 15px; padding: 20px; text-align: center; }
        .baja-item { background: white; border-radius: 15px; padding: 20px; margin-bottom: 15px; border: 1px solid #fecaca; transition: 0.3s; }
        .baja-item:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(190, 18, 60, 0.1); }
        
        .btn-main { background: var(--danger-dark); color: white; border-radius: 12px; font-weight: bold; border: none; padding: 12px; transition: 0.3s; }
        .btn-main:hover { background: #9f1239; transform: scale(1.02); color: white; }
    </style>
</head>
<body>

<div class="container">
    <div class="header-section d-flex justify-content-between align-items-center">
        <div>
            <h2 class="fw-bold text-danger mb-0"><i class="bi bi-file-earmark-medical-fill me-2"></i> Control de Bajas Docentes</h2>
            <p class="text-muted mb-0">Gestión de ausencias y sustituciones del profesorado</p>
        </div>
        <button class="btn btn-outline-danger rounded-pill px-4 fw-bold" onclick="window.history.back()">
            <i class="bi bi-arrow-left me-2"></i> Volver al Panel
        </button>
    </div>

    <div class="row mb-4">
        <div class="col-md-4">
            <div class="stat-card shadow">
                <small class="text-uppercase opacity-75 fw-bold">Bajas Activas Hoy</small>
                <h1 class="display-2 fw-bold mb-0" id="totalBajas">14</h1>
                <p class="mb-0">Requieren atención inmediata</p>
            </div>
        </div>
        <div class="col-md-8">
            <div class="glass-card">
                <h5 class="fw-bold mb-3">Registrar Nueva Incidencia</h5>
                <div class="row g-2">
                    <div class="col-md-8">
                        <input type="text" id="profesorNombre" class="form-control form-control-lg" placeholder="Nombre del docente...">
                    </div>
                    <div class="col-md-4">
                        <button class="btn btn-main w-100 h-100" onclick="agregarBaja()">
                            REGISTRAR BAJA
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="glass-card">
        <div class="d-flex justify-content-between mb-4 align-items-center">
            <h5 class="fw-bold mb-0">Listado de Seguimiento</h5>
            <span class="badge bg-danger-subtle text-danger p-2">Sincronizado en tiempo real</span>
        </div>
        
        <div id="listaBajas">
            <div class="baja-item d-flex justify-content-between align-items-center">
                <div>
                    <h6 class="fw-bold mb-1">Pérez, David</h6>
                    <p class="small text-muted mb-0"><i class="bi bi-calendar3 me-2"></i>Baja Médica - Desde: 15/02/2026</p>
                </div>
                <div class="d-flex gap-2">
                    <span class="badge bg-danger text-uppercase p-2">Pendiente Sustituto</span>
                    <button class="btn btn-sm btn-light border"><i class="bi bi-telephone text-primary"></i></button>
                    <button class="btn btn-sm btn-light border"><i class="bi bi-file-pdf text-danger"></i></button>
                </div>
            </div>

            <div class="baja-item d-flex justify-content-between align-items-center">
                <div>
                    <h6 class="fw-bold mb-1">García, Elena</h6>
                    <p class="small text-muted mb-0"><i class="bi bi-calendar3 me-2"></i>Maternidad - Desde: 10/02/2026</p>
                </div>
                <div class="d-flex gap-2">
                    <span class="badge bg-success text-uppercase p-2">Sustituido</span>
                    <button class="btn btn-sm btn-light border"><i class="bi bi-eye"></i> Ver Plan</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function agregarBaja() {
        const nombre = document.getElementById('profesorNombre').value;
        if(nombre === "") return alert("Escribe un nombre");

        const lista = document.getElementById('listaBajas');
        const nuevaBaja = `
            <div class="baja-item d-flex justify-content-between align-items-center animate__animated animate__fadeIn">
                <div>
                    <h6 class="fw-bold mb-1">${nombre}</h6>
                    <p class="small text-muted mb-0"><i class="bi bi-calendar3 me-2"></i>Baja registrada hoy: ${new Date().toLocaleDateString()}</p>
                </div>
                <div class="d-flex gap-2">
                    <span class="badge bg-warning text-dark text-uppercase p-2">En Revisión</span>
                    <button class="btn btn-sm btn-danger" onclick="this.parentElement.parentElement.remove()">Eliminar</button>
                </div>
            </div>
        `;
        lista.insertAdjacentHTML('afterbegin', nuevaBaja);
        document.getElementById('profesorNombre').value = "";
        
        // Actualizar contador
        const contador = document.getElementById('totalBajas');
        contador.innerText = parseInt(contador.innerText) + 1;
    }
</script>

</body>
</html>
