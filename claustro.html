<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claustro - El Pedrer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <style>
        :root { --sidebar-bg: #1a1a1a; --active-red: #d91e18; --bg-gray: #f4f7f6; }
        body { background-color: var(--bg-gray); font-family: 'Segoe UI', sans-serif; }
        .sidebar { width: 240px; background-color: var(--sidebar-bg); min-height: 100vh; position: fixed; color: white; }
        .main-content { margin-left: 240px; padding: 30px; width: calc(100% - 240px); }
        .nav-link { color: #ccc; padding: 15px 20px; text-decoration: none; display: block; border-bottom: 1px solid #2a2a2a; }
        .nav-link.active { background-color: var(--active-red) !important; color: white; font-weight: bold; }
        .card-table { background: white; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); overflow: hidden; }
        .status-pill { font-size: 0.7rem; padding: 4px 10px; border-radius: 50px; font-weight: bold; }
        .avatar-sm { width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 0.8rem; }
        /* Sticky header para la tabla para no perderse al hacer scroll */
        thead { position: sticky; top: 0; background: white; z-index: 10; }
    </style>
</head>
<body>

<div class="d-flex">
    <div class="sidebar d-flex flex-column">
        <div class="p-4 text-center">
            <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" width="60" class="rounded-circle mb-2 border border-2 border-danger">
            <h6 class="fw-bold m-0">Admin Dirección</h6>
        </div>
        <nav class="nav flex-column">
            <a href="direccion.html" class="nav-link"><i class="bi bi-speedometer2 me-2"></i> Dashboard</a>
            <a href="claustro.html" class="nav-link active"><i class="bi bi-people me-2"></i> Claustro</a>
            <a href="#" class="nav-link text-warning fw-bold"><i class="bi bi-broadcast me-2"></i> EMERGENCIA</a>
            <a href="index.html" class="nav-link mt-5 border-top border-secondary"><i class="bi bi-box-arrow-left me-2"></i> Salir</a>
        </nav>
    </div>

    <div class="main-content">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2 class="fw-bold m-0">Gestión del Claustro <span class="badge bg-secondary ms-2" id="total-docentes">133</span></h2>
            <button class="btn btn-dark" onclick="alert('Añadir nuevo docente')"><i class="bi bi-person-plus me-2"></i> Añadir Docente</button>
        </div>

        <div class="card p-3 mb-4 border-0 shadow-sm">
            <div class="row g-2">
                <div class="col-md-9"><input type="text" class="form-control bg-light border-0" placeholder="Buscar por nombre o especialidad..."></div>
                <div class="col-md-3">
                    <select class="form-select bg-light border-0">
                        <option>Todos los Departamentos</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="card-table">
            <table class="table table-hover align-middle mb-0">
                <thead class="table-light">
                    <tr>
                        <th class="ps-4">Docente</th>
                        <th>Departamento</th>
                        <th>Especialidad</th>
                        <th>Estado</th>
                        <th class="text-end pe-4">Acciones</th>
                    </tr>
                </thead>
                <tbody id="tabla-claustro">
                    </tbody>
            </table>
        </div>
    </div>
</div>

<script>
    const nombres = ["García", "Rodríguez", "López", "Sánchez", "Pérez", "Gómez", "Martín", "Jiménez", "Ruiz", "Hernández", "Diaz", "Moreno", "Muñoz", "Álvarez"];
    const nombresPila = ["Maria", "Jose", "Antonio", "Carmen", "Francisco", "David", "Juan", "Isabel", "Manuel", "Elena", "Jorge", "Lucía", "Pedro", "Ana"];
    const depto = ["Primaria", "Secundaria", "Infantil"];
    const especialidad = ["Matemáticas", "Lengua", "Inglés", "Educación Física", "Música", "Dibujo", "Geografía", "Física", "Tutora"];
    const colores = ["#0d6efd", "#6610f2", "#6f42c1", "#d63384", "#fd7e14", "#198754", "#0dcaf0"];

    function generarClaustro() {
        const tbody = document.getElementById('tabla-claustro');
        let html = '';

        // Añadimos 133 para llegar al total solicitado
        for (let i = 0; i < 133; i++) {
            const nombreCompleto = `${nombres[Math.floor(Math.random() * nombres.length)]}, ${nombresPila[Math.floor(Math.random() * nombresPila.length)]}`;
            const dep = depto[Math.floor(Math.random() * depto.length)];
            const esp = especialidad[Math.floor(Math.random() * especialidad.length)];
            const color = colores[Math.floor(Math.random() * colores.length)];
            const iniciales = nombreCompleto.split(',')[0].substring(0,1) + nombreCompleto.split(' ')[1].substring(0,1);
            
            // Estado aleatorio (mayoría en el centro)
            const randomEstado = Math.random();
            let estado = '<span class="badge bg-success status-pill">En el centro</span>';
            if (randomEstado > 0.9) estado = '<span class="badge bg-danger status-pill">Baja Médica</span>';
            else if (randomEstado > 0.8) estado = '<span class="badge bg-warning text-dark status-pill">En formación</span>';

            html += `
                <tr>
                    <td class="ps-4">
                        <div class="d-flex align-items-center">
                            <div class="avatar-sm me-3" style="background-color: ${color}">${iniciales}</div>
                            <strong>${nombreCompleto}</strong>
                        </div>
                    </td>
                    <td>${dep}</td>
                    <td>${esp}</td>
                    <td>${estado}</td>
                    <td class="text-end pe-4">
                        <button class="btn btn-sm btn-outline-secondary border-0"><i class="bi bi-chat-dots"></i></button>
                        <button class="btn btn-sm btn-outline-dark border-0 ms-1"><i class="bi bi-pencil"></i></button>
                    </td>
                </tr>
            `;
        }
        tbody.innerHTML = html;
    }

    // Ejecutar al cargar
    window.onload = generarClaustro;
</script>

</body>
</html>
